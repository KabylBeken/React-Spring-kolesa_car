{"ast":null,"code":"import axios from \"axios\";\nconst authHeader = () => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  if (user && user.token) {\n    return {\n      Authorization: 'Bearer ' + user.token\n    };\n  } else {\n    return {};\n  }\n};\nexport const registerjs = async (userName, email, password) => {\n  try {\n    const response = await axios.post(\"http://localhost:8082/auth/register\", {\n      userName: userName,\n      userEmail: email,\n      password: password\n    });\n    return {\n      success: true,\n      data: \"User succes registred!!!\"\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: error.response.data.error\n    };\n  }\n};\nexport const loginjs = async (userName, password) => {\n  try {\n    const response = await axios.post(\"http://localhost:8082/auth/login\", {\n      userName: userName,\n      password: password\n    });\n    localStorage.setItem(\"user\", JSON.stringify(response.data));\n    return {\n      success: true,\n      data: \"Success logged in car shop\"\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: error.response.data\n    };\n  }\n};\nexport const getProduct = async () => {\n  try {\n    const response = await axios.get(\"http://localhost:8082/shop/product\", {\n      headers: authHeader()\n    });\n    return response.data;\n  } catch (error) {\n    return error;\n    // return { success: false, data: error.response.data.error };\n  }\n};\n\nexport const getCategory = async () => {\n  const response = await axios.get(\"http://localhost:8082/shop/category\", {\n    headers: authHeader()\n  });\n  return response.data;\n};\nexport const getOneProd = async id => {\n  try {\n    const response = await axios.get('http://localhost:8082/shop/product/' + id, {\n      headers: authHeader()\n    });\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const addProduct = async product => {\n  try {\n    const response = await axios.post(\"http://localhost:8082/shop/addproduct\", product, {\n      headers: authHeader()\n    });\n    return response.data;\n  } catch (error) {\n    return error.response.data;\n  }\n};\nexport const updateProduct = async (id, product) => {\n  try {\n    const response = await axios.put(`http://localhost:8091/shop/updateproduct/${id}`, product, {\n      headers: authHeader()\n    });\n    return response.data;\n  } catch (error) {\n    return error.response.data;\n  }\n};\nexport const deleteProduct = async id => {\n  try {\n    const response = await axios.delete(`http://localhost:8091/shop/deleteproduct/${id}`, {\n      headers: authHeader()\n    });\n    return response.data;\n  } catch (error) {\n    return error.response.data;\n  }\n};\n\n// export const Update = async(prod)=>{\n//     const response = await axios.put(\"http://localhost:8082/shop/product/update/\"+prod.id, prod,{\n//         headers: authHeader()\n//     });\n//     return response.data;\n// }\n\n// export const saveProduct = async(formData)=>{\n//    try{\n//     const response = await axios.post(\"http://localhost:8091/shop/addproduct\",formData,{\n//         headers: {\n//             ...authHeader(),\n//             'Content-Type': 'multipart/form-data'\n//           }\n//     });\n//     return response.data;\n//    }\n//    catch(e){\n//         console.log(e);\n//    }\n// }\n\nexport const saveCategory = async category => {\n  try {\n    const response = await axios.post(\"http://localhost:8082/shop/addcategory\", category, {\n      headers: authHeader()\n    });\n    return response.data;\n  } catch (e) {\n    console.log(e);\n  }\n};","map":{"version":3,"names":["axios","authHeader","user","JSON","parse","localStorage","getItem","token","Authorization","registerjs","userName","email","password","response","post","userEmail","success","data","error","loginjs","setItem","stringify","getProduct","get","headers","getCategory","getOneProd","id","console","log","addProduct","product","updateProduct","put","deleteProduct","delete","saveCategory","category","e"],"sources":["C:/Users/aser/Downloads/Car/carsales/src/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst authHeader = () => {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n    if(user && user.token){\r\n        return { Authorization: 'Bearer ' + user.token }; \r\n    } else {\r\n        return {};\r\n    }\r\n}\r\n\r\nexport const registerjs =async(userName,email,password)=>{\r\n    try {\r\n        const response = await axios.post(\"http://localhost:8082/auth/register\",{\r\n            userName:userName,\r\n            userEmail: email,\r\n            password: password\r\n        })\r\n        return {success: true, data:\"User succes registred!!!\"};\r\n    } catch (error) {\r\n        return {success: false, data: error.response.data.error};\r\n    }\r\n}\r\n\r\nexport const loginjs =async(userName,password)=>{\r\n    try {\r\n        const response = await axios.post(\"http://localhost:8082/auth/login\",{\r\n            userName: userName,\r\n            password: password\r\n        })\r\n        localStorage.setItem(\"user\",JSON.stringify(response.data));\r\n        return {success: true, data:\"Success logged in car shop\"};\r\n    } catch (error) {\r\n        return {success: false, data: error.response.data};\r\n    }\r\n}\r\nexport const getProduct = async()=>{\r\n    try{\r\n        const response = await axios.get(\"http://localhost:8082/shop/product\",{\r\n        headers: authHeader()\r\n    });\r\n    return response.data;\r\n    }catch(error){\r\n        return error;\r\n        // return { success: false, data: error.response.data.error };\r\n    }\r\n}\r\n\r\nexport const getCategory = async()=>{\r\n    const response = await axios.get(\"http://localhost:8082/shop/category\",{\r\n        headers: authHeader()\r\n    });\r\n    return response.data;\r\n}\r\n\r\nexport const getOneProd = async(id)=>{\r\n    try{\r\n        const response = await axios.get('http://localhost:8082/shop/product/'+id,{\r\n            headers: authHeader()}\r\n            \r\n         );return response.data; \r\n    }\r\n    catch(error){\r\n        console.log(error);\r\n    }}\r\n\r\n    export const addProduct = async (product) => {\r\n        try {\r\n            const response = await axios.post(\"http://localhost:8082/shop/addproduct\", product, {\r\n                headers: authHeader()\r\n            });\r\n            return response.data;\r\n        } catch (error) {\r\n            return error.response.data;\r\n        }\r\n    }\r\n    \r\n    export const updateProduct = async (id, product) => {\r\n        try {\r\n            const response = await axios.put(`http://localhost:8091/shop/updateproduct/${id}`, product, {\r\n                headers: authHeader()\r\n            });\r\n            return response.data;\r\n        } catch (error) {\r\n            return error.response.data;\r\n        }\r\n    }\r\n    \r\n    export const deleteProduct = async (id) => {\r\n        try {\r\n            const response = await axios.delete(`http://localhost:8091/shop/deleteproduct/${id}`, {\r\n                headers: authHeader()\r\n            });\r\n            return response.data;\r\n        } catch (error) {\r\n            return error.response.data;\r\n        }\r\n    }\r\n\r\n// export const Update = async(prod)=>{\r\n//     const response = await axios.put(\"http://localhost:8082/shop/product/update/\"+prod.id, prod,{\r\n//         headers: authHeader()\r\n//     });\r\n//     return response.data;\r\n// }\r\n\r\n// export const saveProduct = async(formData)=>{\r\n//    try{\r\n//     const response = await axios.post(\"http://localhost:8091/shop/addproduct\",formData,{\r\n//         headers: {\r\n//             ...authHeader(),\r\n//             'Content-Type': 'multipart/form-data'\r\n//           }\r\n//     });\r\n//     return response.data;\r\n//    }\r\n//    catch(e){\r\n//         console.log(e);\r\n//    }\r\n// }\r\n\r\n\r\n\r\nexport const saveCategory = async(category)=>{\r\n    try{\r\n     const response = await axios.post(\"http://localhost:8082/shop/addcategory\",category,{\r\n        headers: authHeader()\r\n           }\r\n     );\r\n     return response.data;\r\n    }\r\n    catch(e){\r\n         console.log(e);\r\n    }\r\n }\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
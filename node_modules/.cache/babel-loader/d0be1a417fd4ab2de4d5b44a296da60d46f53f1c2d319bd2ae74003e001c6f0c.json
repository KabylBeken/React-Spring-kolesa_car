{"ast":null,"code":"import axios from 'axios';\nconst authHeader = () => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  if (user && user.token) {\n    return {\n      Authorization: 'Bearer ' + user.token\n    };\n  } else {\n    return {};\n  }\n};\nexport const doLogin = async (email, password) => {\n  try {\n    const responce = await axios.post('http://localhost:3005/login', {\n      email: email,\n      password: password\n    }, {\n      headers: authHeader()\n    });\n    localStorage.setItem(\"user\", JSON.stringify(responce.data));\n    return {\n      success: true,\n      data: \"User was logged in\"\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: error\n    };\n  }\n};\nexport const doRegister = async (email, password, username) => {\n  try {\n    const responce = await axios.post('http://localhost:3005/register', {\n      email: email,\n      password: password,\n      username: username\n    }, {\n      headers: authHeader()\n    });\n    return {\n      success: true,\n      data: \"User was registered...\"\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: error\n    };\n  }\n};\nexport const editMovie = async movie => {\n  try {\n    const responce = await axios.put('http://localhost:3005/movies/' + movie.id + '/edit', {\n      title: movie.title,\n      price: movie.price,\n      content: movie.content,\n      categoryId: movie.categoryId\n    }, {\n      headers: authHeader()\n    });\n    return {\n      success: true\n    };\n  } catch (error) {\n    return {\n      success: false\n    };\n  }\n};\nexport const deleteMovie = async id => {\n  try {\n    const responce = await axios.delete('http://localhost:3005/movies/delete/' + id, {\n      headers: authHeader()\n    });\n    return {\n      success: true\n    };\n  } catch (error) {\n    return {\n      success: false\n    };\n  }\n};\nexport const setMovie = async (title, price, content, categories) => {\n  try {\n    const responce = await axios.post('http://localhost:3005/movies/create', {\n      title: title,\n      price: price,\n      content: content,\n      categoryId: categories\n    }, {\n      headers: authHeader()\n    });\n    return {\n      success: true,\n      data: responce.message\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: error\n    };\n  }\n};\nexport const getAllMovies = async () => {\n  try {\n    const responce = await axios.get('http://localhost:3005/movies');\n    return {\n      success: true,\n      data: responce.data\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: error.responce.data.error\n    };\n  }\n};\nexport const getOneMovie = async movieId => {\n  try {\n    const responce = await axios.get('http://localhost:3005/movies/' + movieId, {\n      headers: authHeader()\n    });\n    return {\n      success: true,\n      data: responce.data\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: error.responce.data.error\n    };\n  }\n};\nexport const getAllCategories = async () => {\n  const responce = await axios.get('http://localhost:3005/categories');\n  return responce.data;\n};\nexport const getCategoryMovies = async catId => {\n  try {\n    const responce = await axios.get('http://localhost:3005/movies/category/' + catId, {\n      headers: authHeader()\n    });\n    return {\n      success: true,\n      data: responce.data\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: error.responce.data.error\n    };\n  }\n};\nexport const getMyMovies = async () => {\n  try {\n    const responce = await axios.get('http://localhost:3005/privateMovies', {\n      headers: authHeader()\n    });\n    return {\n      success: true,\n      data: responce.data\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: \"Error\"\n    };\n  }\n};\nexport const getAllUsers = async () => {\n  try {\n    const responce = await axios.get('http://localhost:3005/users');\n    return {\n      success: true,\n      data: responce.data\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: error.responce.data.error\n    };\n  }\n};","map":{"version":3,"names":["axios","authHeader","user","JSON","parse","localStorage","getItem","token","Authorization","doLogin","email","password","responce","post","headers","setItem","stringify","data","success","error","doRegister","username","editMovie","movie","put","id","title","price","content","categoryId","deleteMovie","delete","setMovie","categories","message","getAllMovies","get","getOneMovie","movieId","getAllCategories","getCategoryMovies","catId","getMyMovies","getAllUsers"],"sources":["C:/Users/aser/Downloads/React/Movie/src/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst authHeader = () => {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n    if(user && user.token){\r\n        return { Authorization: 'Bearer ' + user.token}\r\n    } else {\r\n        return {};\r\n    }\r\n}\r\n\r\nexport const doLogin = async (email, password) => {\r\n    try{\r\n        const responce = await axios.post('http://localhost:3005/login',\r\n    {\r\n        email: email,\r\n        password: password\r\n    },\r\n    { headers: authHeader() }\r\n    )\r\n    \r\n    localStorage.setItem(\"user\", JSON.stringify(responce.data));\r\n    return {success: true, data: \"User was logged in\"};\r\n\r\n    }catch(error){\r\n        return {success: false, data: error};\r\n    }\r\n}\r\n\r\nexport const doRegister = async (email, password, username) => {\r\n    try{\r\n        const responce = await axios.post('http://localhost:3005/register',\r\n    {\r\n        email: email,\r\n        password: password,\r\n        username: username\r\n    },\r\n    { headers: authHeader() }\r\n    )\r\n    \r\n    return {success: true, data: \"User was registered...\"};\r\n\r\n    }catch(error){\r\n        return {success: false, data: error};\r\n    }\r\n}\r\n\r\nexport const editMovie = async (movie) => {\r\n    try{\r\n        const responce = await axios.put('http://localhost:3005/movies/'+movie.id+'/edit',\r\n        {\r\n            title: movie.title,\r\n            price: movie.price,\r\n            content: movie.content,\r\n            categoryId: movie.categoryId\r\n        },\r\n        { headers: authHeader() }\r\n        )\r\n        \r\n        return {success: true };\r\n\r\n    } catch(error){\r\n        return {success: false };\r\n    }\r\n}\r\n\r\nexport const deleteMovie = async (id) => {\r\n    try{\r\n        const responce = await axios.delete('http://localhost:3005/movies/delete/'+id,\r\n        {\r\n            headers: authHeader()\r\n        }\r\n    )\r\n    \r\n    return {success: true };\r\n\r\n    }catch(error){\r\n        return {success: false };\r\n    }\r\n}\r\n\r\nexport const setMovie = async (title, price, content, categories) => {\r\n    try{\r\n        const responce = await axios.post('http://localhost:3005/movies/create',\r\n    {\r\n        title: title,\r\n        price: price,\r\n        content: content,\r\n        categoryId: categories\r\n    },\r\n    { headers: authHeader() }\r\n    )\r\n    \r\n    return {success: true, data: responce.message};\r\n\r\n    }catch(error){\r\n        return {success: false, data: error};\r\n    }\r\n}\r\n\r\nexport const getAllMovies = async () => {\r\n    try {\r\n        const responce = await axios.get('http://localhost:3005/movies');\r\n        return{success:true, data: responce.data};\r\n    }catch(error){\r\n        return {success:false, data: error.responce.data.error};\r\n    }\r\n}\r\n\r\nexport const getOneMovie = async (movieId) => {\r\n    try {\r\n        const responce = await axios.get('http://localhost:3005/movies/'+movieId,\r\n        { headers: authHeader() }\r\n    )\r\n        return{success: true, data: responce.data};\r\n\r\n    }catch(error){\r\n        return {success:false, data: error.responce.data.error};\r\n    }\r\n}\r\n\r\nexport const getAllCategories = async () => {\r\n        const responce = await axios.get('http://localhost:3005/categories');\r\n        return  responce.data;\r\n}\r\n\r\nexport const getCategoryMovies = async (catId) => {\r\n    try {\r\n        const responce = await axios.get('http://localhost:3005/movies/category/'+catId,\r\n        { headers: authHeader() }\r\n    )\r\n        return{success: true, data: responce.data};\r\n\r\n    }catch(error){\r\n        return {success:false, data: error.responce.data.error};\r\n    }\r\n}\r\n\r\nexport const getMyMovies = async () => {\r\n    try {\r\n        const responce = await axios.get('http://localhost:3005/privateMovies',\r\n        { headers: authHeader() }\r\n    )\r\n        return{success: true, data: responce.data};\r\n\r\n    }catch(error){\r\n        return {success: false, data: \"Error\"};\r\n    }\r\n}\r\n\r\nexport const getAllUsers = async () => {\r\n    try {\r\n        const responce = await axios.get('http://localhost:3005/users')\r\n        return{success: true, data: responce.data};\r\n\r\n    }catch(error){\r\n        return {success:false, data: error.responce.data.error};\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
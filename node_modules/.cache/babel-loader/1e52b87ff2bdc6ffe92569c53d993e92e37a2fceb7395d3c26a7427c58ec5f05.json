{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aser\\\\Downloads\\\\Car\\\\carsales\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport Header from './header';\nimport NotFound404 from './Error';\nimport ProductSpring from './Product';\nimport CreateJava from './Create';\nimport LoginForm from './login';\nimport RegisterForm from './Register';\nimport Prod from './Prod';\nimport Edit from './Update';\nimport CreateCat from './CreateCat';\nimport Category from './Category';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { createBrowserRouter, RouterProvider, useLocation, Navigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PrivateRoute = _ref => {\n  _s();\n  let {\n    children,\n    roles\n  } = _ref;\n  const user = JSON.parse(sessionStorage.getItem(\"user\"));\n  const location = useLocation();\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      state: {\n        from: location\n      },\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 16\n    }, this);\n  }\n  if (roles && !roles.includes(user.role)) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 16\n    }, this);\n  }\n  return children;\n};\n_s(PrivateRoute, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n_c = PrivateRoute;\nconst router = createBrowserRouter([{\n  path: '/',\n  element: /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 18\n  }, this),\n  errorElement: /*#__PURE__*/_jsxDEV(NotFound404, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 23\n  }, this),\n  children: [{\n    path: '/prod',\n    element: /*#__PURE__*/_jsxDEV(Prod, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 26\n    }, this)\n  }, {\n    path: '/addproduct',\n    element: /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      roles: ['ROLE_ADMIN'],\n      children: /*#__PURE__*/_jsxDEV(CreateJava, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }, this)\n  }, {\n    path: '/product',\n    element: /*#__PURE__*/_jsxDEV(ProductSpring, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 26\n    }, this)\n  }, {\n    path: '/category',\n    element: /*#__PURE__*/_jsxDEV(PrivateRoute, {\n      roles: ['ROLE_USER', 'ROLE_ADMIN'],\n      children: /*#__PURE__*/_jsxDEV(Category, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }, this)\n  }]\n}, {\n  path: '/login',\n  element: /*#__PURE__*/_jsxDEV(LoginForm, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 18\n  }, this)\n}, {\n  path: '/register',\n  element: /*#__PURE__*/_jsxDEV(RegisterForm, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 18\n  }, this)\n}, {\n  path: '/CreateCat',\n  element: /*#__PURE__*/_jsxDEV(PrivateRoute, {\n    roles: ['ROLE_ADMIN'],\n    children: /*#__PURE__*/_jsxDEV(CreateCat, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 13\n  }, this)\n}, {\n  path: '/update/:prodId',\n  element: /*#__PURE__*/_jsxDEV(PrivateRoute, {\n    roles: ['ROLE_ADMIN'],\n    children: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 13\n  }, this)\n}]);\nexport default function App() {\n  return /*#__PURE__*/_jsxDEV(RouterProvider, {\n    router: router\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 12\n  }, this);\n}\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"PrivateRoute\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["Header","NotFound404","ProductSpring","CreateJava","LoginForm","RegisterForm","Prod","Edit","CreateCat","Category","createBrowserRouter","RouterProvider","useLocation","Navigate","jsxDEV","_jsxDEV","PrivateRoute","_ref","_s","children","roles","user","JSON","parse","sessionStorage","getItem","location","to","state","from","replace","fileName","_jsxFileName","lineNumber","columnNumber","includes","role","_c","router","path","element","errorElement","App","_c2","$RefreshReg$"],"sources":["C:/Users/aser/Downloads/Car/carsales/src/App.js"],"sourcesContent":["import Header from './header';\r\nimport NotFound404 from './Error';\r\nimport ProductSpring from './Product';\r\nimport CreateJava from './Create';\r\nimport LoginForm from './login';\r\nimport RegisterForm from './Register';\r\nimport Prod from './Prod';\r\nimport Edit from './Update';\r\nimport CreateCat from './CreateCat';\r\nimport Category from './Category';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { createBrowserRouter, RouterProvider, useLocation, Navigate } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({ children, roles }) => {\r\n    const user = JSON.parse(sessionStorage.getItem(\"user\"));\r\n    const location = useLocation();\r\n    \r\n    if (!user) {\r\n        return <Navigate to=\"/login\" state={{ from: location }} replace />;\r\n    }\r\n\r\n    if (roles && !roles.includes(user.role)) {\r\n        return <Navigate to=\"/\" replace />;\r\n    }\r\n\r\n    return children;\r\n};\r\n\r\nconst router = createBrowserRouter([\r\n    {\r\n        path: '/',\r\n        element: <Header />,\r\n        errorElement: <NotFound404 />,\r\n        children: [\r\n            {\r\n                path: '/prod',\r\n                element: <Prod />,\r\n            },\r\n            {\r\n                path: '/addproduct',\r\n                element: (\r\n                    <PrivateRoute roles={['ROLE_ADMIN']}>\r\n                        <CreateJava />\r\n                    </PrivateRoute>\r\n                ),\r\n            },\r\n            {\r\n                path: '/product',\r\n                element: <ProductSpring />\r\n            },\r\n            {\r\n                path: '/category',\r\n                element: (\r\n                    <PrivateRoute roles={['ROLE_USER', 'ROLE_ADMIN']}>\r\n                        <Category />\r\n                    </PrivateRoute>\r\n                ),\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        path: '/login',\r\n        element: <LoginForm />\r\n    },\r\n    {\r\n        path: '/register',\r\n        element: <RegisterForm />\r\n    },\r\n    {\r\n        path: '/CreateCat',\r\n        element: (\r\n            <PrivateRoute roles={['ROLE_ADMIN']}>\r\n                <CreateCat />\r\n            </PrivateRoute>\r\n        ),\r\n    },\r\n    {\r\n        path: '/update/:prodId',\r\n        element: (\r\n            <PrivateRoute roles={['ROLE_ADMIN']}>\r\n                <Edit />\r\n            </PrivateRoute>\r\n        ),\r\n    }\r\n]);\r\n\r\nexport default function App() {\r\n    return <RouterProvider router={router} />;\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
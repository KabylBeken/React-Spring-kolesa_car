{"ast":null,"code":"import axios from 'axios';\nconst authHeader = () => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  if (user && user.token) {\n    return {\n      Authorization: 'Bearer ' + user.token\n    };\n  } else {\n    return {};\n  }\n};\nexport const doLogin = async (email, password) => {\n  try {\n    const responce = await axios.post('http://localhost:3005/login', {\n      email: email,\n      password: password\n    }, {\n      headers: authHeader()\n    });\n    localStorage.setItem(\"user\", JSON.stringify(responce.data));\n    return {\n      success: true,\n      data: \"User was logged in\"\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: error\n    };\n  }\n};\nexport const doRegister = async (email, password, username) => {\n  try {\n    const responce = await axios.post('http://localhost:3005/register', {\n      email: email,\n      password: password,\n      username: username\n    }, {\n      headers: authHeader()\n    });\n    return {\n      success: true,\n      data: \"User was registered...\"\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: error\n    };\n  }\n};\nexport const editPost = async post => {\n  try {\n    const responce = await axios.put('http://localhost:3005/posts/' + post.id + '/edit', {\n      title: post.title,\n      price: post.price,\n      content: post.content,\n      categoryId: post.categoryId\n    }, {\n      headers: authHeader()\n    });\n    return {\n      success: true\n    };\n  } catch (error) {\n    return {\n      success: false\n    };\n  }\n};\nexport const deletepost = async id => {\n  try {\n    const responce = await axios.delete('http://localhost:3005/posts/delete/' + id, {\n      headers: authHeader()\n    });\n    return {\n      success: true\n    };\n  } catch (error) {\n    return {\n      success: false\n    };\n  }\n};\nexport const setPost = async (title, price, content, categories) => {\n  try {\n    const responce = await axios.post('http://localhost:3005/posts/create', {\n      title: title,\n      price: price,\n      content: content,\n      categoryId: categories\n    }, {\n      headers: authHeader()\n    });\n    return {\n      success: true,\n      data: responce.message\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: error\n    };\n  }\n};\nexport const getAllPosts = async () => {\n  try {\n    const responce = await axios.get('http://localhost:3005/posts');\n    return {\n      success: true,\n      data: responce.data\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: error.responce.data.error\n    };\n  }\n};\nexport const getOnePost = async postId => {\n  try {\n    const responce = await axios.get('http://localhost:3005/posts/' + postId, {\n      headers: authHeader()\n    });\n    return {\n      success: true,\n      data: responce.data\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: error.responce.data.error\n    };\n  }\n};\nexport const getAllCategories = async () => {\n  const responce = await axios.get('http://localhost:3005/categories');\n  return responce.data;\n};\nexport const getCategoryPosts = async catId => {\n  try {\n    const responce = await axios.get('http://localhost:3005/posts/category/' + catId, {\n      headers: authHeader()\n    });\n    return {\n      success: true,\n      data: responce.data\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: error.responce.data.error\n    };\n  }\n};\nexport const getMyPosts = async () => {\n  try {\n    const responce = await axios.get('http://localhost:3005/privatePosts', {\n      headers: authHeader()\n    });\n    return {\n      success: true,\n      data: responce.data\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: \"Error\"\n    };\n  }\n};\nexport const getAllUsers = async () => {\n  try {\n    const responce = await axios.get('http://localhost:3005/users');\n    return {\n      success: true,\n      data: responce.data\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: error.responce.data.error\n    };\n  }\n};","map":{"version":3,"names":["axios","authHeader","user","JSON","parse","localStorage","getItem","token","Authorization","doLogin","email","password","responce","post","headers","setItem","stringify","data","success","error","doRegister","username","editPost","put","id","title","price","content","categoryId","deletepost","delete","setPost","categories","message","getAllPosts","get","getOnePost","postId","getAllCategories","getCategoryPosts","catId","getMyPosts","getAllUsers"],"sources":["C:/Users/aser/Downloads/React/Movie/src/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst authHeader = () => {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n    if(user && user.token){\r\n        return { Authorization: 'Bearer ' + user.token}\r\n    } else {\r\n        return {};\r\n    }\r\n}\r\n\r\nexport const doLogin = async (email, password) => {\r\n    try{\r\n        const responce = await axios.post('http://localhost:3005/login',\r\n    {\r\n        email: email,\r\n        password: password\r\n    },\r\n    { headers: authHeader() }\r\n    )\r\n    \r\n    localStorage.setItem(\"user\", JSON.stringify(responce.data));\r\n    return {success: true, data: \"User was logged in\"};\r\n\r\n    }catch(error){\r\n        return {success: false, data: error};\r\n    }\r\n}\r\n\r\nexport const doRegister = async (email, password, username) => {\r\n    try{\r\n        const responce = await axios.post('http://localhost:3005/register',\r\n    {\r\n        email: email,\r\n        password: password,\r\n        username: username\r\n    },\r\n    { headers: authHeader() }\r\n    )\r\n    \r\n    return {success: true, data: \"User was registered...\"};\r\n\r\n    }catch(error){\r\n        return {success: false, data: error};\r\n    }\r\n}\r\n\r\nexport const editPost = async (post) => {\r\n    try{\r\n        const responce = await axios.put('http://localhost:3005/posts/'+post.id+'/edit',\r\n    {\r\n        title: post.title,\r\n        price: post.price,\r\n        content: post.content,\r\n        categoryId: post.categoryId\r\n    },\r\n    { headers: authHeader() }\r\n    )\r\n    \r\n    return {success: true };\r\n\r\n    }catch(error){\r\n        return {success: false };\r\n    }\r\n}\r\n\r\nexport const deletepost = async (id) => {\r\n    try{\r\n        const responce = await axios.delete('http://localhost:3005/posts/delete/'+id,\r\n        {\r\n            headers: authHeader()\r\n        }\r\n    )\r\n    \r\n    return {success: true };\r\n\r\n    }catch(error){\r\n        return {success: false };\r\n    }\r\n}\r\n\r\nexport const setPost = async (title, price, content, categories) => {\r\n    try{\r\n        const responce = await axios.post('http://localhost:3005/posts/create',\r\n    {\r\n        title: title,\r\n        price: price,\r\n        content: content,\r\n        categoryId: categories\r\n    },\r\n    { headers: authHeader() }\r\n    )\r\n    \r\n    return {success: true, data: responce.message};\r\n\r\n    }catch(error){\r\n        return {success: false, data: error};\r\n    }\r\n}\r\n\r\nexport const getAllPosts = async () => {\r\n    try {\r\n        const responce = await axios.get('http://localhost:3005/posts');\r\n        return{success:true, data: responce.data};\r\n    }catch(error){\r\n        return {success:false, data: error.responce.data.error};\r\n    }\r\n}\r\n\r\nexport const getOnePost = async (postId) => {\r\n    try {\r\n        const responce = await axios.get('http://localhost:3005/posts/'+postId,\r\n        { headers: authHeader() }\r\n    )\r\n        return{success: true, data: responce.data};\r\n\r\n    }catch(error){\r\n        return {success:false, data: error.responce.data.error};\r\n    }\r\n}\r\n\r\nexport const getAllCategories = async () => {\r\n        const responce = await axios.get('http://localhost:3005/categories');\r\n        return  responce.data;\r\n}\r\n\r\nexport const getCategoryPosts = async (catId) => {\r\n    try {\r\n        const responce = await axios.get('http://localhost:3005/posts/category/'+catId,\r\n        { headers: authHeader() }\r\n    )\r\n        return{success: true, data: responce.data};\r\n\r\n    }catch(error){\r\n        return {success:false, data: error.responce.data.error};\r\n    }\r\n}\r\n\r\nexport const getMyPosts = async () => {\r\n    try {\r\n        const responce = await axios.get('http://localhost:3005/privatePosts',\r\n        { headers: authHeader() }\r\n    )\r\n        return{success: true, data: responce.data};\r\n\r\n    }catch(error){\r\n        return {success: false, data: \"Error\"};\r\n    }\r\n}\r\n\r\nexport const getAllUsers = async () => {\r\n    try {\r\n        const responce = await axios.get('http://localhost:3005/users')\r\n        return{success: true, data: responce.data};\r\n\r\n    }catch(error){\r\n        return {success:false, data: error.responce.data.error};\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
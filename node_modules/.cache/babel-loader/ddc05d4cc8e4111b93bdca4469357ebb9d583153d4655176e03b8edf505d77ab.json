{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aser\\\\Downloads\\\\React\\\\Movie\\\\src\\\\EditForm.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { editPost, getAllCategories, getOnePost } from './api';\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction EditForm() {\n  _s();\n  const navigate = useNavigate();\n  const params = useParams();\n  const [post, setPost] = useState([]);\n  useEffect(() => {\n    const loadPost = async () => {\n      const {\n        success,\n        data\n      } = await getOnePost(params.postId);\n      if (success) {\n        setPost(data);\n      } else {\n        navigate(\"/login\", {\n          state: {\n            message: data\n          }\n        });\n      }\n    };\n    loadPost();\n  }, [params.postId]);\n  const handleSubmit = async () => {\n    const success = await editPost(post);\n    toast('Post Өзгерді!!!');\n    navigate('/posts/my');\n  };\n  const hundleTitle = ev => {\n    setPost({\n      ...post,\n      title: ev.target.value\n    });\n  };\n  const hundlePrice = ev => {\n    setPost({\n      ...post,\n      price: parseInt(ev.target.value)\n    });\n  };\n  const hundleContent = ev => {\n    setPost({\n      ...post,\n      content: ev.target.value\n    });\n  };\n  const hundleCategory = ev => {\n    setPost({\n      ...post,\n      categoryId: ev.target.value\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Edit Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Title:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: post.title,\n      className: \"form-control\",\n      onChange: hundleTitle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 105\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Price:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: post.price,\n      className: \"form-control\",\n      onChange: hundlePrice\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 106\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Content:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: post.content,\n      className: \"form-control\",\n      onChange: hundleContent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 110\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: \"Category\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 34\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: hundleCategory,\n      className: \"form-control\",\n      value: post.categoryId,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: 1,\n        children: \"\\u041A\\u043E\\u043C\\u0435\\u0434\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: 2,\n        children: \"\\u0411\\u043E\\u0435\\u0432\\u0438\\u043A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: 3,\n        children: \"\\u0423\\u0436\\u0430\\u0441\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 31\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      onClick: handleSubmit,\n      children: \"Edited\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n_s(EditForm, \"4PJQ/zJr6W4xr0b5bEhSA+zNvHY=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = EditForm;\nexport default EditForm;\nvar _c;\n$RefreshReg$(_c, \"EditForm\");","map":{"version":3,"names":["useState","useEffect","editPost","getAllCategories","getOnePost","Link","useNavigate","useParams","ToastContainer","toast","jsxDEV","_jsxDEV","EditForm","_s","navigate","params","post","setPost","loadPost","success","data","postId","state","message","handleSubmit","hundleTitle","ev","title","target","value","hundlePrice","price","parseInt","hundleContent","content","hundleCategory","categoryId","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","onClick","_c","$RefreshReg$"],"sources":["C:/Users/aser/Downloads/React/Movie/src/EditForm.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { editPost,getAllCategories,getOnePost } from './api';\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction EditForm(){\r\n\r\n    const navigate = useNavigate();\r\n    const params = useParams();\r\n    const [post, setPost] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const loadPost = async () => {\r\n            const {success, data } = await getOnePost(params.postId);\r\n            if(success){\r\n                setPost(data);\r\n            }\r\n            else{\r\n                navigate(\"/login\", {state: { message: data }});\r\n            }\r\n        }\r\n        loadPost();\r\n    },[params.postId]);\r\n\r\n    const handleSubmit = async () => {\r\n        const success = await editPost(post);\r\n            toast('Post Өзгерді!!!')\r\n            navigate('/posts/my');\r\n    };\r\n\r\n    const hundleTitle = (ev) => {\r\n        setPost({...post,title: ev.target.value})\r\n    }\r\n    const hundlePrice = (ev) => {\r\n        setPost({...post,price: parseInt(ev.target.value)})\r\n    }\r\n    const hundleContent = (ev) => {\r\n        setPost({...post,content: ev.target.value})\r\n    }\r\n    const hundleCategory = (ev) => {\r\n        setPost({...post,categoryId: ev.target.value})\r\n    }\r\n\r\n    return(\r\n        <div className=\"container\">\r\n            <h2>Edit Post</h2>\r\n            { <ToastContainer/> }\r\n                <h5>Title:</h5>\r\n                <input type=\"text\" value={post.title} className=\"form-control\" onChange={hundleTitle} /><br/>\r\n                <h5>Price:</h5>\r\n                <input type=\"text\" value={post.price}  className=\"form-control\" onChange={hundlePrice} /><br/>\r\n                <h5>Content:</h5>\r\n                <input type=\"text\" value={post.content}  className=\"form-control\" onChange={hundleContent} /><br/>\r\n                <h5>Category</h5><br/>\r\n                <select onChange={hundleCategory}  className=\"form-control\" value={post.categoryId}>\r\n                    <option value={1}>Комедия</option>\r\n                    <option value={2}>Боевик</option>\r\n                    <option value={3}>Ужасы</option>\r\n                </select><br/><br/>\r\n                <button type=\"submit\" className=\"btn btn-primary\" onClick={handleSubmit}>Edited</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}